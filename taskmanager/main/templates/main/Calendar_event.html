{% extends 'main/layout.html' %}
{% load static %}

{% block title %}Календарь событий{% endblock %}


{% block css_stran %}
    <link rel="stylesheet" href="{% static 'main/css/calendar_event.css' %}">
{% endblock %}

{% block extra_js %}
<script src="{% static 'main/js/calendar_event.js' %}"></script>
{% endblock %}


{% block content %}
<div class="calendar-page">

    <section class="prime-section">
        <div class="prime-wrapper">
            <button class="prime-arrow left">&#10094;</button>
            <div class="prime-slider">
                {% for event in prime_events %}
                    <a href="{% url 'event_detail' event.slug %}" class="prime-slide">
                        {% if event.main_image %}
                            <div class="prime-image">
                                <img src="{{ event.main_image.url }}" alt="{{ event.name }}">
                            </div>
                        {% endif %}
                        <div class="prime-info">
                            <h3>{{ event.name }}</h3>
                            <p><strong>Дата:</strong> {{ event.date_time|date:"d.m.Y H:i" }}</p>
                            <p><strong>Место:</strong> {{ event.location }}</p>
                        </div>
                    </a>
                {% empty %}
                    <p>Пока нет праймовых событий.</p>
                {% endfor %}
            </div>
            <button class="prime-arrow right">&#10095;</button>
        </div>
        <div class="side-calendar">
            <div class="calendar-box">
                <p>Календарь (позже настроим)</p>
            </div>
        </div>
    </section>

    <!-- Категории событий -->
    <section class="categories-section">
        <h2>Категории событий</h2>
        <div class="categories-slider">
            <a href="{% url 'category_events' 'Квизы' %}" class="category-card">
                <img src="{% static 'main/img/categories/qviz.jpg' %}" alt="Квизы">
                <span>Квизы</span>
            </a>
            <a href="{% url 'category_events' 'Шахматы' %}" class="category-card">
                <img src="{% static 'main/img/categories/chess.jpg' %}" alt="Шахматы">
                <span>Шахматы</span>
            </a>
            <a href="{% url 'category_events' 'Спорт' %}" class="category-card">
                <img src="{% static 'main/img/categories/sport.jpg' %}" alt="Спорт">
                <span>Спорт</span>
            </a>
            <a href="{% url 'category_events' 'Для детей' %}" class="category-card">
                <img src="{% static 'main/img/categories/kids.jpg' %}" alt="Для детей">
                <span>Для детей</span>
            </a>
            <a href="{% url 'category_events' 'Другое' %}" class="category-card">
                <img src="{% static 'main/img/categories/other.jpg' %}" alt="Другое">
                <span>Другое</span>
            </a>
        </div>
    </section>


    <!-- Будущие события -->
    <section class="all-events-section">
        <h2>Ближайшие события</h2>
        <div class="events-grid">
            {% for event in future_events %}
                <a href="{% url 'event_detail' event.slug %}" class="event-card">
                    {% if event.main_image %}
                        <div class="event-image">
                            <img src="{{ event.main_image.url }}" alt="{{ event.name }}">
                        </div>
                    {% endif %}
                    <div class="event-info">
                        <h3>{{ event.name }}</h3>
                        <p><strong>Дата:</strong> {{ event.date_time|date:"d.m.Y" }}</p>
                        <p><strong>Время:</strong> {{ event.date_time|time:"H:i" }}</p>
                        <p><strong>Место:</strong> {{ event.location }}</p>
                    </div>
                </a>
            {% empty %}
                <p>Пока нет запланированных событий.</p>
            {% endfor %}
        </div>
        <button id="show-more-btn">Показать ещё</button>
    </section>


    <!-- Прошедшие события -->
    <section class="past-events-section">
        <h2>Прошедшие события</h2>
        <div class="events-grid">
            {% for event in past_events %}
                <a href="{% url 'event_detail' event.slug %}" class="event-card past">
                    <div class="event-badge">Прошло</div>
                    {% if event.main_image %}
                        <div class="event-image">
                            <img src="{{ event.main_image.url }}" alt="{{ event.name }}">
                        </div>
                    {% endif %}
                    <div class="event-info">
                        <h3>{{ event.name }}</h3>
                        <p><strong>Дата:</strong> {{ event.date_time|date:"d.m.Y" }}</p>
                        <p><strong>Время:</strong> {{ event.date_time|time:"H:i" }}</p>
                        <p><strong>Место:</strong> {{ event.location }}</p>
                    </div>
                </a>
            {% empty %}
                <p>Прошедших событий пока нет.</p>
            {% endfor %}
        </div>
    </section>




</div>
{% endblock %}

